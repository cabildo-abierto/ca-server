{
  "lexicon": 1,
  "id": "ar.cabildoabierto.embed.visualization",
  "defs": {
    "main": {
      "type": "object",
      "required": ["dataSource", "spec"],
      "properties": {
        "dataSource": {
          "type": "union",
          "refs": [
            "#datasetDataSource",
            "#topicsDataSource"
          ]
        },
        "spec": {
          "type": "union",
          "refs": [
            "#hemicycle",
            "#barplot",
            "#scatterplot",
            "#histogram",
            "#lines",
            "#table"
          ]
        },
        "title": {
          "type": "string"
        },
        "caption": {
          "type": "string"
        }
      }
    },
    "datasetDataSource": {
      "type": "object",
      "required": ["dataset"],
      "properties": {
        "dataset": { "type": "string", "format": "at-uri" }
      }
    },
    "topicsDataSource": {
      "type": "object",
      "properties": {

      }
    },
    "hemicycle" : {
      "type": "object",
      "properties": {

      }
    },
    "table" : {
      "type": "object",
      "properties": {

      }
    },
    "barplot": {
      "type": "object",
      "properties": {
        "xAxis": {"type": "string"},
        "yAxis": {"type": "string"},
        "xLabel": {"type": "string"},
        "yLabel": {"type": "string"}
      }
    },
    "scatterplot": {
      "type": "object",
      "properties": {
        "xAxis": {"type": "string"},
        "yAxis": {"type": "string"},
        "xLabel": {"type": "string"},
        "yLabel": {"type": "string"}
      }
    },
    "histogram": {
      "type": "object",
      "properties": {
        "xAxis": {"type": "string"},
        "yAxis": {"type": "string"},
        "xLabel": {"type": "string"},
        "normalized": {"type": "boolean"}
      }
    },
    "lines": {
      "type": "object",
      "properties": {
        "xAxis": {"type": "string"},
        "yAxis": {"type": "string"},
        "xLabel": {"type": "string"},
        "yLabel": {"type": "string"}
      }
    },
    "view": {
      "type": "object",
      "required": ["dataSource", "spec", "dataset"],
      "properties": {
        "dataSource": {
          "type": "union",
          "refs": [
            "#datasetDataSource",
            "#topicsDataSource"
          ]
        },
        "spec": {
          "type": "union",
          "refs": [
            "#hemicycle",
            "#barplot",
            "#scatterplot",
            "#histogram",
            "#lines",
            "#table"
          ]
        },
        "title": {
          "type": "string"
        },
        "caption": {
          "type": "string"
        },
        "dataset": {
          "type": "ref",
          "ref": "ar.cabildoabierto.data.dataset#datasetView"
        }
      }
    }
  }
}